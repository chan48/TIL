## 들어가며
이 글은 [Vuex 시작하기](https://joshua1988.github.io/web_dev/vuex-start/)에 이어,
Vuex 의 Getters, Mutations, Actions 를 소개합니다. 지난 글에서는 state 까지 다뤘습니다.

## Getters 란?
중앙 데이터 관리식 구조에서 발생하는 문제점 중 하나는
각 컴포넌트에서 Vuex 의 데이터를 접근할 때 중복된 코드를 반복호출 하게 되는 것이다.
예를 들어, 아래와 같은 코드가 있다.

```js
// App.vue
computed: {
  doubleCounter() {
    return this.$store.state.counter * 2;
  }
},

// Child.vue
computed: {
  doubleCounter() {
    return this.$store.state.counter * 2;
  }
},
```

여러 컴포넌트에서 동일한 로직을 수행하고 있는데 비효율적으로 중복 사용하고 있다.
이 때, Vuex 의 데이터 (state) 변경하는 코드를 각 컴포넌트에서 수행하는 게 아니라,
Vuex 에서 수행하고 각 컴포넌트에서 해당 로직을 호출하면 코드 가독성도 올라가고, 성능에서도 이점이 생긴다.

```js
// store.js (Vuex)
getters: {
  doubleCounter: state => {
    return state.counter * 2;
  }
},

// App.vue
computed: {
  doubleCounter() {
    return this.$store.getters.doubleCounter;
  }
},

// Child.vue
computed: {
  doubleCounter() {
    return this.$store.getters.doubleCounter;
  }
},
```

![vuex-getters]()

Getters 를 적용해도 비슷해 보이는가? 이건 정말 간단한 예제일 뿐이다.
만약 `this.store.state.todos.filter(todo => todo.done)...` 등의 복잡한 로직이라면
왜 Getters 를 쓰는게 편할지 납득이 갈 것이다.

## Getters 선언
[지난 튜토리얼](https://joshua1988.github.io/web_dev/vuex-start/#vuex-튜토리얼-5---state-접근) 에 이어서 getters 를 추가해보자.

먼저










- 각 컴포넌트에서 Vuex 의 데이터를 접근하여 변경하고 싶을 때의 로직들을 저장
- `import mapGetters from 'vuex'` 를 이용하여 computed 의 기존 메서드와 함께 사용할 수 있다.

```js
import {mapGetters} from 'vuex';

export default {
  computed: {
    ...mapGetters([
      'doubleCounter',
      'stringCounter'
    ])
  }
}
```

> 다만 Babel stage-2 라이브러리 추가 및 babel preset 에 추가 필요

## Mutations
-


## Actions
- Mutation 의 로직은 순차적으로 일어나야 각 컴포넌트의 반영 여부를 제대로 추적할 수가 있다.
- 따라서, `setTimeout()` 이나 서버와의 http 통신을 사용할 수 없게 되는데, 이를 위해 Actions 를 추가하여 비동기 로직을 추가할 수 있다.

```js
import {mapActions} from 'vuex';

export default {
  methods: {
    ...mapActions([
      'asyncIncrement',
      'asyncDecrement'
    ])
  },
}
```

- Actions 에 인자는 아래와 같이 넘긴다.

```html
<!-- by 와 duration 등의 여러 인자 값을 넘길 경우, 객체안에 key - value 형태로 여러 값을 넘길 수 있다 -->
<button @click="asyncIncrement({ by: 50, duration: 500})">Increment</button>
```

```js
export const store = new Vuex.Store({
  // ...
  actions: {
    asyncIncrement: ({ commit }, payload) => {
      setTimeout (() => {
        commit('increment', payload.by);
      }, payload.duration);
    }
  }
  // ...
})
```

## 대형 애플리케이션 제작을 위한 폴더 구조화 & NameSpacing
- 중간 크기 이상의 복잡한 앱을 제작할 때 `getters & mutations & actions` 의 이름을 유일하게 정하지 않으면 namespace 충돌이 난다. 따라서, 네임스페이스를 구분하기 위해 `types.js` 로 각 속성의 이름들을 빼고, `store.js` 와 각 컴포넌트에 import 하여 사용하는 방법이 있다.
- 생각보다 복잡하므로, 중대형 이상의 규모에서만 사용하는게 좋을듯. 배보다 배꼽이 클 수 있음

## Udemy
