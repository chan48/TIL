## Vue 는 무엇인가?
-

## MVVM 패턴이란?
- [위키](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel) 에 명시된 것처럼,

## Vue Instance 생성자
Vue 생성자를 만드는 방법은 아래와 같다.

```javascript
// vm 은 ViewModel 을 뜻한다. (관행적인 코딩 컨벤션)
var vm = new Vue({
  // options
})
```

Vue 객체를 생성할 때 아래와 같이 *data, template, el, methods, life cycle callback* 등의 options 을 포함할 수 있다.

```javascript
var vm = new Vue({
  template: ...,
  el: ...,
  methods: {

  },
  // ...
})
```

각 options 으로 미리 정의한 vue 객체를 확장하여 재사용이 가능하다. 하지만 아래 방법 보다는 template 에서 custom element 로 작성하는 것이 더 좋다.

```javascript
var MyComponent = Vue.extend({
  // template, el, methods 와 같은 options 정의
})
// 위에서 정의한 options 를 기본으로 하는 컴포넌트 생성
var myComponentInstance = new MyComponent()
```

## Vue Instance 라이프싸이클 초기화
Vue 객체가 생성될 때 아래의 초기화 작업을 수행한다.

- 데이터 관찰
- 템플릿 컴파일
- DOM 에 객체 연결
- 데이터 변경시 DOM 업데이트

이 초기화 작업 외에도 개발자가 의도하는 커스텀 로직을 아래와 같이 추가할 수 있다.

```javascript
var vm = new Vue({
  data: {
    a: 1
  },
  created: function () {
    // this 는 vm 을 가리킴
    console.log('a is: ' + this.a)
  }
})
```

이 외에도 라이프싸이클 단계에 따라 `mounted`, `updated`, `destroyed` 등을 사용할 수 있다.
이 라이프싸이클 초기화 메서드로 커스텀 로직을 수행하기 때문에 Vue 에서는 따로 Controller 를 갖고 있지 않다.

## Vue Components
- 화면에 비춰지는 뷰의 단위를 쪼개어 재활용이 가능한 형태로 관리하는 것이 컴포넌트

![vue-js-component-intro-picture](https://vuejs.org/images/components.png)

---
- 컴포넌트 등록은 아래와 같은 코드로 생성 가능하다.

```html
<div id="app">
  <my-component></my-component>
</div>
```

```js
// 등록
Vue.component('my-component', {
  template: '<div>A custom component!</div>'
})
// Vue 인스턴스 생성
new Vue({
  el: '#app'
})
```

**주의할 점 : Vue 인스턴스를 생성하기전에 꼭 Component 부터 등록!**

---
- 컴포넌트의 `data` 속성은 꼭 함수로 작성해야한다.

```js
Vue.component('my-component', {
  data: {
    message: 'hello'
  }
})

var data = { text: 'hello' }
Vue.component('my-component', {
  data: function () {
    return data;
  }
  // 모든 컴포넌트가 같은 값을 공유하지 않게 아래와 같이 수정
  // data: function () {
  //   return {
  //     text: 'hello'
  //   }
  // }
})
```

---
#### 부모와 자식 컴포넌트 관계
- 구조상 상-하 관계에 있는 컴포넌트의 통신은
  - 부모 -> 자식 : props down
  - 자식 -> 부모 : events up

![parent-child-components-relationship](https://vuejs.org/images/props-events.png)

---
#### Props
- 모든 컴포넌트는 각 컴포넌트 자체의 스코프를 갖는다.
  - 예를 들어, 하위 컴포넌트가 상위 컴포넌트의 값을 바로 참조할 수 없는 형식
- **상위에서 하위로 값을 전달하려면 props 속성을 사용한다.**

---

```js
Vue.component('child-component', {
  props: ['passedData'],
  template: '<p>{{passedData}}</p>'
});

var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue! from Parent Component',
  }
});
```

```html
<div id="app">
  <child-component v-bind:passed-data="message"></child-component>
</div>
```

**주의 할점 : js 에서 props 변수 명명을 카멜 기법으로 하면 html 에서 접근은 케밥 기법(`-`) 으로 가야한다.**

![props-parsing-rules-between-components](C:\github\TIL\vuejs\images\props-name-parsing-tip.png)

---
## Vue Routers
-

---
#### Nested Routers
- 라우터로 화면을 이동했을 때 Nested Routers 를 이용하여 여러개의 컴포넌트가 렌더할 수 있다.

**주의사항**
아래는 nested router 를 바로 사용할 때 주의해야 하는 vue 의 성질이다.
vue 는 한 tag 단위만 렌더가 가능하다. 여러 개의 태그를 한개의 뷰로 사용할 수 없음.
따라서 아래는 기존에 렌더하는 tag 의 안에 router-view 를 사용하지 않고 밖에 넣었을 때 발생하는 에러.
`Component template should contain exactly one root element`

```js
var Foo = {
  template:
    `<div>foo</div><router-view></router-view>` // 에러 발생
    `<div>foo <router-view></router-view></div>` // div 의 vue tag 단위 안에 router-view 를 포함 시켜야 함
};
```

![common-error-when-using-nested-router](C:\github\TIL\vuejs\images\common-nested-view-error-in-vue-router.png)

---
## Vue Templates
- ss


---
## Virtual Dom in Vue?
-

## 왜 data 를 this 가 아닌 self 로 연결해야 받아지는가?
-

## Nested Views - Vue Routing
- sss

## Named Views - Vue Routing
- Nested View 와 차이점이 무엇인지?

## 참고
- [NHN Enter](http://meetup.toast.com/posts/99)
- [Vue Router - Slide Share](https://www.slideshare.net/takuyatejima1/how-to-build-spa-with-vue-router-20)
